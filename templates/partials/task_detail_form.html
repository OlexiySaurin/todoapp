{% comment %} 
<form method="post" class="task-form">
    {% csrf_token %}
    {{form|crispy}}
</form> {% endcomment %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
<form method="post" class="task-form" id="task-form-{{ task.id }}" action="{% url 'task-update' task.id %}">
    {% csrf_token %}
    <div class="task-detail card mb-3" id="task-{{ task.id }}">
        <div class="card-header d-flex justify-content-between align-items-center">
            <div>
                <input type="checkbox" {% if task.completed %} checked {% endif %} class="form-check-input"
                hx-trigger="change" hx-post="{% url 'toggle-complete' task.id %}" hx-swap="none">
                <span class="{% if task.completed %} bg-light text-decoration-line-through text-muted {% endif %}"
                >
                    <b>
                        {% render_field form.title %}
                    </b>
                </span>
            </div>
            <button class="btn btn-danger btn-sm" hx-trigger="click" hx-post="{% url 'task-delete' task.id %}"
            >&times;</button>
        </div>
        <div class="card-body {% if task.completed %} bg-light text-decoration-line-through text-muted {% endif %}">
            <p class="card-text">
                {% render_field form.description %}
        </p>
            <p class="card-text"><small class="text-muted">{% render_field form.due_date %}</small></p>
        </div>
        <div class="card-footer">
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </div>
</form>
